{% extends "mhs/base.html" %}
{% load static %}

{% block title %}Subbab 1 - Ringkasan{% endblock %}

{% block content %}

<style>
  .card-section {
    border: 2px solid #bcccdc;
    border-radius: 12px;
    overflow: hidden;
    background: #ffffff;
    margin-bottom: 22px;
    box-shadow: 0 6px 18px rgba(16,32,58,0.03);
  }
  .card-section-header {
    padding: 14px 18px;
    font-size: 20px;
    font-weight: 800;
    display:flex;
    align-items:center;
    gap:12px;
    background: #edf4fe;
    border-bottom: 2px solid #bcccdc;
  }

  .card-section-header i {
    font-size:20px;
    color:var(--primary-500);
    display:inline-flex;
    width:36px;
    height:36px;
    align-items:center;
    justify-content:center;
    border-radius:8px;
    background: rgba(59,123,227,0.12);
  }

  .card-section-body {
    padding: 35px;
    font-size: 19px;
    color: #222f3a;
    background: #fff;
  }

  .summary-box {
    background: #fbfdff;
    border: 1px solid #bcccdc;
    border-radius: 10px;
    padding: 35px;
    box-shadow: 0 6px 18px rgba(16,32,58,0.02);
    margin-bottom: 18px;
  }

  .summary-box h4 { margin-top: 0; margin-bottom: 8px; }
  .summary-box p, .summary-box ul { margin: 0 0 8px 0; line-height: 1.6; }
  .muted { color: #6b7684; font-size: 0.95rem; }

  .material-nav { display:flex; gap:12px; justify-content:flex-end; margin-top:18px; }
  .material-nav .btn { min-width:120px; }

  .def-list dt { font-weight:700; margin-top:10px; }
  .def-list dd { margin: 0 0 8px 0; }
</style>

<div class="mb-3">
  <h1 class="title-main" style="margin:0;">
    SUBBAB 1 - <span style="color:var(--primary-500)">RINGKASAN</span>
  </h1>
</div>

<section class="card-section" aria-labelledby="ringkasan-heading">
  <div class="card-section-header">
    <i class="bi bi-journal-text"></i>
    <div id="ringkasan-heading">Ringkasan</div>
  </div>

  <div class="card-section-body">

    <div class="summary-box">
      <h4><b>1. Pengertian Citra Digital</b></h4>
      <p style="text-align: justify; text-indent: 30px; margin-top: 20px; margin-left: 30px; margin-bottom:50px;">
        Citra digital adalah representasi gambar dua dimensi yang tersusun dari piksel-piksel 
        dalam baris dan kolom. Setiap piksel memiliki nilai numerik yang menunjukkan tingkat 
        kecerahan. Resolusi menentukan kualitas citra, di mana semakin tinggi resolusi 
        maka gambar semakin jelas. Manusia melihat citra sebagai gambar utuh, 
        sedangkan komputer melihat citra sebagai kumpulan nilai piksel yang dapat diolah.
      </p>
      
      <h4><b>2. Jenis Citra Digital</b></h4>
      <dt style="margin-left: 30px; margin-top: 20px;">a. Citra Berwarna RGB</dt>
        <dd style="text-align: justify; text-indent: 30px; margin-top: 20px; margin-left: 50px;">
          Citra RGB adalah citra berwarna yang setiap pikselnya memiliki tiga <em>channel</em>, yaitu merah (R), 
          hijau (G), dan biru (B). Setiap <em>channel</em> bernilai 0–255 dan dikombinasikan untuk membentuk berbagai warna.
        </dd>

      <dt style="margin-left: 30px;">b. Citra <em>Grayscale</em></dt>
        <dd style="text-align: justify; text-indent: 30px; margin-top: 5px; margin-left: 50px;">
          Citra <em>grayscale</em> hanya memiliki satu <em>channel</em> yang merepresentasikan tingkat keabuan dari 
          hitam hingga putih dengan nilai 0–255. Citra ini lebih sederhana dan hemat penyimpanan dibandingkan citra RGB.
        </dd>
      <dt style="margin-left: 30px;">c. Citra Biner</dt>
        <dd style="text-align: justify; text-indent: 30px; margin-top: 5px; margin-left: 50px;">
          Citra biner hanya memiliki dua nilai piksel, yaitu 0 (hitam) dan 1 (putih). Citra ini biasanya 
          dihasilkan dari citra <em>grayscale</em> menggunakan nilai ambang (<em>threshold</em>) untuk memisahkan objek dan latar belakang.
        </dd>
    </div>

    <div class="material-nav">
      <a href="{% url 'jenis_citra' %}" class="btn btn-outline-secondary"><i class="bi bi-chevron-left"></i> Sebelumnya</a>
      
      <a id="nav-next-kuis" href="{% url 'kuis_1' %}" class="btn btn-primary">
        Selanjutnya <i class="bi bi-chevron-right"></i>
      </a>
    </div>

  </div>
</section>

<script>
(function() {
  const currentSlug = 'ringkasan-citra';
  const nextBtn = document.getElementById('nav-next-kuis');

  nextBtn.addEventListener('click', function(e) {
    const isAlreadyDone = "{{ selesai_slugs|safe }}".includes(currentSlug);
    
    if (!isAlreadyDone) {
      e.preventDefault();
      const targetUrl = this.href;

      fetch("/api/update-progres/", {
        method: "POST",
        headers: {
          "X-CSRFToken": "{{ csrf_token }}",
          "Content-Type": "application/json",
          "Accept": "application/json"
        },
        body: JSON.stringify({ slug: currentSlug })
      })
      .then(response => {
        if (!response.ok) throw new Error('Network response was not ok');
        return response.json();
      })
      .then(data => {
        if (data.status === 'success') {
          window.location.href = targetUrl;
        } else {
          window.location.href = targetUrl;
        }
      })
      .catch(error => {
        window.location.href = targetUrl;
      });
    }
  });
})();
</script>

{% endblock %}